<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<style>
.r1 {color: #005f00; text-decoration-color: #005f00}
.r2 {font-weight: bold}
.r3 {color: #7f7f7f; text-decoration-color: #7f7f7f; font-weight: bold}
.r4 {color: #000080; text-decoration-color: #000080; font-weight: bold}
.r5 {color: #005f00; text-decoration-color: #005f00; font-weight: bold}
.r6 {color: #87af00; text-decoration-color: #87af00; font-weight: bold}
.r7 {color: #000080; text-decoration-color: #000080; font-weight: bold; font-style: italic}
.r8 {color: #005f00; text-decoration-color: #005f00; font-weight: bold; font-style: italic}
.r9 {color: #87af00; text-decoration-color: #87af00; font-weight: bold; font-style: italic}
.r10 {color: #7f7f7f; text-decoration-color: #7f7f7f}
.r11 {color: #000080; text-decoration-color: #000080}
.r12 {color: #87af00; text-decoration-color: #87af00}
.r13 {color: #008000; text-decoration-color: #008000; background-color: #f8f8f8; font-weight: bold}
.r14 {color: #000000; text-decoration-color: #000000; background-color: #f8f8f8}
.r15 {color: #0000ff; text-decoration-color: #0000ff; background-color: #f8f8f8; font-weight: bold}
.r16 {background-color: #f8f8f8}
.r17 {color: #408080; text-decoration-color: #408080; background-color: #f8f8f8; font-style: italic}
.r18 {color: #666666; text-decoration-color: #666666; background-color: #f8f8f8}
.r19 {color: #0000ff; text-decoration-color: #0000ff; background-color: #f8f8f8}
.r20 {color: #008000; text-decoration-color: #008000; background-color: #f8f8f8}
.r21 {color: #ba2121; text-decoration-color: #ba2121; background-color: #f8f8f8; font-style: italic}
.r22 {color: #aa22ff; text-decoration-color: #aa22ff; background-color: #f8f8f8; font-weight: bold}
.r23 {color: #aa22ff; text-decoration-color: #aa22ff; background-color: #f8f8f8}
.r24 {color: #ba2121; text-decoration-color: #ba2121; background-color: #f8f8f8}
.r25 {color: #bb6622; text-decoration-color: #bb6622; background-color: #f8f8f8; font-weight: bold}
.r26 {color: #bb6688; text-decoration-color: #bb6688; background-color: #f8f8f8; font-weight: bold}
.r27 {color: #800000; text-decoration-color: #800000; font-weight: bold}
.r28 {color: #19177c; text-decoration-color: #19177c; background-color: #f8f8f8}
.r29 {font-weight: bold; font-style: italic}
.r30 {font-style: italic}
.r31 {color: #d2413a; text-decoration-color: #d2413a; background-color: #f8f8f8; font-weight: bold}
.r32 {color: #0000ff; text-decoration-color: #0000ff}
body {
    color: #000000;
    background-color: #ffffff;
}
</style>
</head>
<html>
<body>
    <code>
        <pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">                                Memory usage: <span class="r1">▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</span> (max:  82.45MB, growth rate:  -0%)                                
                           /home/rebecca/macq/macq/extract/slaf.py: % of time =  99.63% out of 2156.37s.                           
       ╷       ╷       ╷       ╷        ╷       ╷               ╷       ╷                                                          
 <span class="r2"> </span><span class="r3">Line</span><span class="r2"> </span>│<span class="r4">Time</span><span class="r2">   </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r5">Memory</span><span class="r2">  </span>│<span class="r5">––––––</span><span class="r2"> </span>│<span class="r5">–––––––––––</span><span class="r2">    </span>│<span class="r6">Copy</span><span class="r2">   </span>│<span class="r2">                                                         </span> 
       │<span class="r7">Python</span><span class="r2"> </span>│<span class="r7">native</span><span class="r2"> </span>│<span class="r7">system</span><span class="r2"> </span>│<span class="r8">Python</span><span class="r2">  </span>│<span class="r8">net</span><span class="r2">    </span>│<span class="r8">timeline</span><span class="r5">/%</span><span class="r2">     </span>│<span class="r9">(MB/s)</span><span class="r2"> </span>│<span class="r2">/home/rebecca/macq/macq/extract/slaf.py                  </span> 
╺━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
 <span class="r10">    1 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">import</span><span class="r14"> </span><span class="r15">macq.extract</span><span class="r14"> </span><span class="r13">as</span><span class="r14"> </span><span class="r15">extract</span><span class="r16">                          </span>  
 <span class="r10">    2 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">typing</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Union, List, Set</span><span class="r16">                     </span>  
 <span class="r10">    3 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">nnf</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Var, Or, And, true, false</span><span class="r16">               </span>  
 <span class="r10">    4 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r17">#from ..observation import Observation, PartialObservabi</span>  
 <span class="r10">    5 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r17">#from ..trace import Action, ObservationList</span><span class="r16">            </span>  
 <span class="r10">    6 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r13">import</span><span class="r14"> </span><span class="r15">bauhaus</span><span class="r16">                                          </span>  
 <span class="r10">    7 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">bauhaus</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Encoding</span><span class="r16">                            </span>  
 <span class="r10">    8 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">nnf</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> dsharp</span><span class="r16">                                  </span>  
 <span class="r10">    9 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   10 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">macq.observation</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                          </span>  
 <span class="r10">   11 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">macq.trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                                </span>  
 <span class="r10">   12 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   13 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">e </span><span class="r18">=</span><span class="r14"> Encoding()</span><span class="r16">                                          </span>  
 <span class="r10">   14 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   15 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   16 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">Slaf</span><span class="r14">:</span><span class="r16">                                             </span>  
 <span class="r10">   17 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r17"># only need one true and one false</span><span class="r16">                  </span>  
 <span class="r10">   18 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    top </span><span class="r18">=</span><span class="r14"> true</span><span class="r16">                                          </span>  
 <span class="r10">   19 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    bottom </span><span class="r18">=</span><span class="r14"> false</span><span class="r16">                                      </span>  
 <span class="r10">   20 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   21 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__new__</span><span class="r14">(</span><span class="r20">cls</span><span class="r14">, observations: ObservationList):</span><span class="r16">    </span>  
 <span class="r10">   22 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Creates a new Model object.</span><span class="r16">                  </span>  
 <span class="r10">   23 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   24 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   25 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observations (ObservationList):</span><span class="r16">             </span>  
 <span class="r10">   26 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The state observations to extract the mo</span>  
 <span class="r10">   27 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Raises:</span><span class="r16">                                         </span>  
 <span class="r10">   28 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            IncompatibleObservationToken:</span><span class="r16">               </span>  
 <span class="r10">   29 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                Raised if the observations are not ident</span>  
 <span class="r10">   30 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   31 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> observations</span><span class="r18">.</span><span class="r14">type </span><span class="r22">is</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> PartialObservability</span>  
 <span class="r10">   32 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">raise</span><span class="r14"> extract</span><span class="r18">.</span><span class="r14">IncompatibleObservationToken(o</span>  
 <span class="r10">   33 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        Slaf</span><span class="r18">.</span><span class="r14">as_strips_slaf(observations)</span><span class="r16">               </span>  
 <span class="r10">   34 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   35 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">   36 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__get_initial_fluent_factored</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">   37 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        observation: Observation, raw_fluent_factored: U</span>  
 <span class="r10">   38 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    ):</span><span class="r16">                                                  </span>  
 <span class="r10">   39 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Gets the initial fluent-factored formula of a</span>  
 <span class="r10">   40 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   41 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   42 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observation (Observation):</span><span class="r16">                  </span>  
 <span class="r10">   43 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The observation to extract the fluent-fa</span>  
 <span class="r10">   44 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   45 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Returns:</span><span class="r16">                                        </span>  
 <span class="r10">   46 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            A list of dictionaries that holds the fluent</span>  
 <span class="r10">   47 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   48 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        top </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">top</span><span class="r16">                                  </span>  
 <span class="r10">   49 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        bottom </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">bottom</span><span class="r16">                            </span>  
 <span class="r10">   50 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> raw_fluent_factored:</span><span class="r16">                     </span>  
 <span class="r10">   51 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            raw_fluent_factored </span><span class="r18">=</span><span class="r14"> []</span><span class="r16">                    </span>  
 <span class="r10">   52 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        fluents </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">   53 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   54 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r14">        all_fluents </span><span class="r18">=</span><span class="r14"> [f </span><span class="r13">for</span><span class="r14"> token </span><span class="r22">in</span><span class="r14"> observation </span><span class="r13">for</span><span class="r14"> f </span>  
 <span class="r10">   55 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_fluents:</span><span class="r16">                           </span>  
 <span class="r10">   56 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            fluents</span><span class="r18">.</span><span class="r14">add(f)</span><span class="r16">                              </span>  
 <span class="r10">   57 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   58 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># get previous fluents</span><span class="r16">                          </span>  
 <span class="r10">   59 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        old_fluents </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">   60 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for<
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(unstack object c object f causes on object a object d)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(stack object c object f causes ~holding object f)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(unstack object c object f causes ~on object f object c)
True
True
True
True
True
True
True
True
True
(pick-up object f causes ~ontable object i)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(unstack object c object f causes on object e object j)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(stack object c object f causes on object j object b)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(unstack object c object f causes ~clear object f)
True
True
True
True
True
True
True
True
True
(stack object c object f causes on object c object e)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(put-down object f causes clear object c)
True
True
True
True
True
True
True
True
True
True
True
(pick-up object f causes ~on object c object e)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(put-down object f causes handempty )
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(put-down object f causes ontable object i)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(put-down object f causes on object c object e)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(put-down object f causes ~on object d object i)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
(unstack object c object f causes ~on object b object g)
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True
True

class="r10">   75 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">remove_subsumed_clauses</span><span class="r14">(phi_form: Set):</span><span class="r16">         </span>  
 <span class="r10">   76 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># print(phi_form)</span><span class="r16">                               </span>  
 <span class="r10">   77 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># print()</span><span class="r16">                                       </span>  
 <span class="r10">   78 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        to_del </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                  </span>  
 <span class="r10">   79 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># eliminate subsumed clauses</span><span class="r16">                    </span>  
 <span class="r10">   80 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi_form:</span><span class="r16">                              </span>  
 <span class="r10">   81 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">for</span><span class="r14"> other </span><span class="r22">in</span><span class="r14"> phi_form:</span><span class="r16">                      </span>  
 <span class="r10">   82 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄            </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(f, Or) </span><span class="r22">or</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(f, An</span>  
 <span class="r10">   83 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">   -1M </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(o) </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> f</span><span class="r18">.</span><span class="r14">children}</span>  
 <span class="r10">   84 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                                   </span>  
 <span class="r10">   85 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(f)}</span><span class="r16">                    </span>  
 <span class="r10">   86 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄▄▄       </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(other, Var):</span><span class="r16">          </span>  
 <span class="r10">   87 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄▄        </span>│<span class="r12">       </span>│<span class="r14">                    other_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(o) </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> other</span><span class="r18">.</span><span class="r14">c</span>  
 <span class="r10">   88 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄         </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> f_set</span><span class="r18">.</span><span class="r14">issubset(other_set) </span><span class="r22">and</span><span class="r14"> f_s</span>  
 <span class="r10">   89 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        to_del</span><span class="r18">.</span><span class="r14">add(other)</span><span class="r16">               </span>  
 <span class="r10">   90 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> t </span><span class="r22">in</span><span class="r14"> to_del:</span><span class="r16">                                </span>  
 <span class="r10">   91 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            phi_form</span><span class="r18">.</span><span class="r14">discard(t)</span><span class="r16">                         </span>  
 <span class="r10">   92 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   93 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   94 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">   95 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">or_refactor</span><span class="r14">(maybe_lit):</span><span class="r16">                         </span>  
 <span class="r10">   96 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(maybe_lit, Var):</span><span class="r16">                  </span>  
 <span class="r10">   97 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">return</span><span class="r14"> Or([maybe_lit])</span><span class="r16">                      </span>  
 <span class="r10">   98 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                                           </span>  
 <span class="r10">   99 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">return</span><span class="r14"> maybe_lit</span><span class="r16">                            </span>  
 <span class="r10">  100 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  101 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">  102 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">as_strips_slaf</span><span class="r14">(observations: ObservationList, de</span>  
 <span class="r10">  103 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Implements the AS-STRIPS-SLAF algorithm from </span>  
 <span class="r10">  104 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Iterates through the action/observation pairs of</span>  
 <span class="r10">  105 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        a fluent-factored transition belief formula that</span>  
 <span class="r10">  106 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        The transition belif formulas for each trace/obs</span>  
 <span class="r10">  107 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        which is then solved using a SAT solver to extra</span>  
 <span class="r10">  108 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  109 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">  110 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observations (ObservationList):</span><span class="r16">             </span>  
 <span class="r10">  111 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The list of observations/traces to apply</span>  
 <span class="r10">  112 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">  113 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># get global variables</span><span class="r16">                          </span>  
 <span class="r10">  114 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        top </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">top</span><span class="r16">                                  </span>  
 <span class="r10">  115 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        bottom </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">bottom</span><span class="r16">                            </span>  
 <span class="r10">  116 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">global</span><span class="r14"> e</span><span class="r16">                                        </span>  
 <span class="r10">  117 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        validity_constraints </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                    </span>  
 <span class="r10">  118 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        all_var </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">  119 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  120 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        raw_fluent_factored </span><span class="r18">=</span><span class="r14"> </span><span class="r13">None</span><span class="r16">                      </span>  
 <span class="r10">  121 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># iterate through every observation in the list </span>  
 <span class="r10">  122 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> obs </span><span class="r22">in</span><span class="r14"> observations:</span><span class="r16">                        </span>  
 <span class="r10">  123 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># get the fluent factored formula for this o</span>  
 <span class="r10">  124 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            raw_fluent_factored </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">__get_initial_flu</span>  
 <span class="r10">  125 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                obs, raw_fluent_factored</span><span class="r16">                </span>  
 <span class="r10">  126 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            )</span><span class="r16">                                           </span>  
 <span class="r10">  127 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                                   </span>  
 <span class="r10">  128 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_f_details </span><span class="r18">=</span><span class="r14"> [f[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">name </span><span class="r13">for</span><span class="r14"> f </span>  
 <span class="r10">  129 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_f_details</span><span class="r18">.</span><span class="r14">sort()</span><span class="r16">                    </span>  
 <span class="r10">  130 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_f_details:</span><span class="r16">                 </span>  
 <span class="r10">  131 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(f)</span><span class="r16">                            </span>  
 <span class="r10">  132 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                to_obs </span><span class="r18">=</span><span class="r14"> []</span><span class="r16">                             </span>  
 <span class="r10">  133 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r24">""</span><span class="r16">                         </span>  
 <span class="r10">  134 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                                  </span>  
 <span class="r10">  135 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">Which fluents do you want to obse</span>  
 <span class="r10">  136 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                )</span><span class="r16">                                       </span>  
 <span class="r10">  137 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">while</span><span class="r14"> user_input </span><span class="r18">!=</span><span class="r14"> </span><span class="r24">"x"</span><span class="r14">:</span><span class="r16">                </span>  
 <span class="r10">  138 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r20">input</span><span class="r14">()</span><span class="r16">                </span>  
 <span class="r10">  139 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> user_input </span><span class="r22">in</span><span class="r14"> all_f_details:</span><span class="r16">     </span>  
 <span class="r10">  140 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        to_obs</span><span class="r18">.</span><span class="r14">append(user_input)</span><span class="r16">       </span>  
 <span class="r10">  141 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r20">print</span><span class="r14">(user_input </span><span class="r18">+</span><span class="r14"> </span><span class="r24">" added to th</span>  
 <span class="r10">  142 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                               </span>  
 <span class="r10">  143 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">if</span><span class="r14"> user_input </span><span class="r18">!=</span><span class="r14"> </span><span class="r24">"x"</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  144 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"The fluent you entere</span>  
 <span class="r10">  145 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  146 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># iterate through all tokens (action/observa</span>  
 <span class="r10">  147 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">for</span><span class="r14"> token </span><span class="r22">in</span><span class="r14"> obs:</span><span class="r16">                           </span>  
 <span class="r10">  148 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  149 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"-"</span><span class="r14"> </span><span class="r18">*</span><span class="r14"> </span><span class="r18">100</span><span class="r14">)</span><span class="r16">                    </span>  
 <span class="r10">  150 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># steps 1. (d)-(e) of AS-STRIPS-SLAF</span><span class="r16">    </span>  
 <span class="r10">  151 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_o </span><span class="r18">=</span><span class="r14"> [</span><span class="r16">                               </span>  
 <span class="r10">  152 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                    Var(</span><span class="r20">str</span><span class="r14">(f)[</span><span class="r18">1</span><span class="r14">:</span><span class="r18">-1</span><span class="r14">]) </span><span class="r13">if</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">stat</span>  
 <span class="r10">  153 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">state</span><span class="r18">.</span><span class="r14">fluents</span><span class="r16">   </span>  
 <span class="r10">  154 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                ]</span><span class="r16">                                       </span>  
 <span class="r10">  155 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">         </span>  
 <span class="r10">  156 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">                   </span>  
 <span class="r10">  157 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r17"># take account all of the current ob</span>  
 <span class="r10">  158 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> all_o:</span><span class="r16">                     </span>  
 <span class="r10">  159 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># if this fluent is observed, up</span>  
 <span class="r10">  160 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># since we know the fluent is no</span>  
 <span class="r10">  161 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">   -1M </span>│<span class="r1">▄▄▄▄▄▄         </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> o:</span><span class="r16">                      </span>  
 <span class="r10">  162 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">      </span>  
 <span class="r10">  163 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span><span class="r14"> p</span>  
 <span class="r10">  164 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            )</span><span class="r16">                           </span>  
 <span class="r10">  165 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">     </span>  
 <span class="r10">  166 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {bottom}</span><span class="r16">  </span>  
 <span class="r10">  167 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> debug </span><span class="r22">and</span><span class="r14"> </span><span class="r20">str</span><span class="r14">(f) </span><span class="r22">in</span><span class="r14"> to_ob</span>  
 <span class="r10">  168 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">  169 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r24">f"</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> was observed t</span>  
 <span class="r10">  170 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                )</span><span class="r16">                       </span>  
 <span class="r10">  171 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># the opposite happens if the fl</span>  
 <span class="r10">  172 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    2M </span>│<span class="r1">▄▄▄▄▄▄▄▄▄      </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">elif</span><span class="r14"> </span><span class="r18">~</span><span class="r14">f </span><span class="r18">==</span><span class="r14"> o:</span><span class="r16">                   </span>  
 <span class="r10">  173 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">      </span>  
 <span class="r10">  174 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄          </span>│<span class="r12">       </span>│<span class="r14">                                [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> p</span>  
 <span class="r10">  175 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            )</span><span class="r16">                           </span>  
 <span class="r10">  176 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {bottom}</span><span class="r16">  </span>  
 <span class="r10">  177 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">     </span>  
 <span class="r10">  178 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> debug </span><span class="r22">and</span><span class="r14"> </span><span class="r20">str</span><span class="r14">(f) </span><span class="r22">in</span><span class="r14"> to_ob</span>  
 <span class="r10">  179 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">  180 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r24">f"</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> was observed t</span>  
 <span class="r10">  181 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                )</span><span class="r16">                       </span>  
 <span class="r10">  182 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  183 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"Update according to observati</span>  
 <span class="r10">  184 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> obj </span><span class="r22">in</span><span class="r14"> to_obs:</span><span class="r16">                  </span>  
 <span class="r10">  185 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16"> </span>  
 <span class="r10">  186 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            f_str </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">name</span><span class="r16">  </span>  
 <span class="r10">  187 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> f_str </span><span class="r18">==</span><span class="r14"> obj:</span><span class="r16">            </span>  
 <span class="r10">  188 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">fluent: "</span><span class="r14"> </span><span class="r18">+</span><span class="r14"> f_s</span>  
 <span class="r10">  189 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  190 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span>  
 <span class="r10">  191 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  192 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  193 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  194 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  195 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  196 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  197 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  198 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span>  
 <span class="r10">  199 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  200 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  201 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  202 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  203 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  204 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  205 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  206 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neutral"</span><span class="r14">]:</span>  
 <span class="r10">  207 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  208 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  209 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  210 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  211 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  212 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  213 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">  214 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># iterate through every fluent in the fl</span>  
 <span class="r10">  215 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># steps 1. (a)-(c) of AS-STRIPS-SLAF, pa</span>  
 <span class="r10">  216 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># "if a" ensures that the action is not </span>  
 <span class="r10">  217 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                a </span><span class="r18">=</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">action</span><span class="r16">                   </span>  
 <span class="r10">  218 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> a:</span><span class="r16">                                   </span>  
 <span class="r10">  219 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">     </span>  
 <span class="r10">  220 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">               </span>  
 <span class="r10">  221 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  222 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                        pos_precond </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> is a pr</span>  
 <span class="r10">  223 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        neg_precond </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(~</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> is a p</span>  
 <span class="r10">  224 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        pos_effect </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span>  
 <span class="r10">  225 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                        neg_effect </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span>  
 <span class="r10">  226 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        neutral </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span><span class="r26">}</span><span class="r24"> h</span>  
 <span class="r10">  227 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  228 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_var</span><span class="r18">.</span><span class="r14">update([pos_precond, neg</span>  
 <span class="r10">  229 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  230 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_pos </span><span class="r18">=</span><span class="r14"> [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> </span>  
 <span class="r10">  231 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_neg </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> </span>  
 <span class="r10">  232 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄▄        </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_neut </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span>  
 <span class="r10">  233 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">         </span>  
 <span class="r10">  234 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">         </span>  
 <span class="r10">  235 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  236 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">          </span>  
 <span class="r10">  237 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(</span><span class="r18">~</span><span class="r14">pos_precond </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify</span>  
 <span class="r10">  238 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  239 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">          </span>  
 <span class="r10">  240 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r14">                            [(</span><span class="r18">~</span><span class="r14">neg_precond </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify</span>  
 <span class="r10">  241 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  242 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  243 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(pos_effect </span><span class="r18">|</span>  
 <span class="r10">  244 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(pos_effect </span><span class="r18">|</span>  
 <span class="r10">  245 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">         </span>  
 <span class="r10">  246 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r14">                            [(pos_effect </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify()</span>  
 <span class="r10">  247 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  248 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  249 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(neg_effect </span><span class="r18">|</span>  
 <span class="r10">  250 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(neg_effect </span><span class="r18">|</span>  
 <span class="r10">  251 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">         </span>  
 <span class="r10">  252 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(neg_effect </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify()</span>  
 <span class="r10">  253 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  254 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  255 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(pos_eff</span>  
 <span class="r10">  256 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add((</span><span class="r18">~</span><span class="r14">pos_e</span>  
 <span class="r10">  257 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">neg_ef</span>  
 <span class="r10">  258 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">pos_ef</span>  
 <span class="r10">  259 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">pos_pr</span>  
 <span class="r10">  260 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  261 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  262 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  263 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  264 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  265 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  266 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> a:</span><span class="r16">                               </span>  
 <span class="r10">  267 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">Action taken: "</span><span class="r14"> </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">det</span>  
 <span class="r10">  268 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">for</span><span class="r14"> obj </span><span class="r22">in</span><span class="r14"> to_obs:</span><span class="r16">              </span>  
 <span class="r10">  269 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factor</span>  
 <span class="r10">  270 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                f_str </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">na</span>  
 <span class="r10">  271 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">if</span><span class="r14"> f_str </span><span class="r18">==</span><span class="r14"> obj:</span><span class="r16">        </span>  
 <span class="r10">  272 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">fluent: "</span><span class="r14"> </span><span class="r18">+</span>  
 <span class="r10">  273 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  274 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  275 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  276 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  277 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  278 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"pos ex</span>  
 <span class="r10">  279 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  280 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  281 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  282 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  283 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  284 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  285 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  286 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  287 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  288 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  289 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  290 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neg ex</span>  
 <span class="r10">  291 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  292 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  293 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  294 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  295 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  296 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  297 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  298 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  299 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  300 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  301 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  302 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neutra</span>  
 <span class="r10">  303 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  304 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  305 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  306 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  307 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  308 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  309 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  310 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">  311 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  312 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r20">input</span><span class="r14">(</span><span class="r24">"Hit enter to con</span>  
 <span class="r10">  313 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  314 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        formula </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">  315 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># convert to formula once you have stepped throu</span>  
 <span class="r10">  316 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># add as constraints to e here</span><span class="r16">                  </span>  
 <span class="r10">  317 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">                 </span>  
 <span class="r10">  318 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">                           </span>  
 <span class="r10">  319 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># convert to formula for each fluent</span><span class="r16">        </span>  
 <span class="r10">  320 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            all_phi_pos </span><span class="r18">=</span><span class="r14"> [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"po</span>  
 <span class="r10">  321 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            all_phi_neg </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"ne</span>  
 <span class="r10">  322 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">            all_phi_neut </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"n</span>  
 <span class="r10">  323 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  324 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([(</span><span class="r18">~</span><span class="r14">f </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span>  
 <span class="r10">  325 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([(f </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> </span>  
 <span class="r10">  326 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([n </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> all_phi_neut])</span><span class="r16">   </span>  
 <span class="r10">  327 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># formula.update(validity_constraints)</span><span class="r16">          </span>  
 <span class="r10">  328 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  329 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  330 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  331 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r14">        full_formula </span><span class="r18">=</span><span class="r14"> And({</span><span class="r18">*</span><span class="r14">[f</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> form</span>  
 <span class="r10">  332 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        cnf_formula </span><span class="r18">=</span><span class="r14"> And(</span><span class="r20">map</span><span class="r14">(Slaf</span><span class="r18">.</span><span class="r14">or_refactor, full_for</span>  
 <span class="r10">  333 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r16">                                                </span>  
 <span class="r10">  334 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  335 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  336 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># f = open("formula.txt", "w")</span><span class="r16">                  </span>  
 <span class="r10">  337 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys = list(cnf_formula)</span><span class="r16">                      </span>  
 <span class="r10">  338 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys = [str(f) for f in keys]</span><span class="r16">                 </span>  
 <span class="r10">  339 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys.sort()</span><span class="r16">                                   </span>  
 <span class="r10">  340 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># for key in keys:</span><span class="r16">                              </span>  
 <span class="r10">  341 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17">#     f.write(str(key) + "\n")</span><span class="r16">                  </span>  
 <span class="r10">  342 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># f.close()</span><span class="r16">                                     </span>  
 <span class="r10">  343 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  344 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    2M </span>│<span class="r1">▄▄▄▄▄▄         </span>│<span class="r12">       </span>│<span class="r14">        ddnnf </span><span class="r18">=</span><span class="r14"> dsharp</span><span class="r18">.</span><span class="r14">compile(cnf_formula, </span><span class="r24">'/home/rebec</span>  
 <span class="r10">  345 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17">#print(ddnnf.size())</span><span class="r16">                            </span>  
 <span class="r10">  346 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        children </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">(cnf_formula</span><span class="r18">.</span><span class="r14">children)</span><span class="r16">            </span>  
 <span class="r10">  347 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_var:</span><span class="r16">                               </span>  
 <span class="r10">  348 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># base_theory is the original CNF</span><span class="r16">           </span>  
 <span class="r10">  349 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            children</span><span class="r18">.</span><span class="r14">add(Or([</span><span class="r18">~</span><span class="r14">f]))</span><span class="r16">                      </span>  
 <span class="r10">  350 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            check_theory </span><span class="r18">=</span><span class="r14"> And(children)</span><span class="r16">                </span>  
 <span class="r10">  351 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r20">print</span><span class="r14">(check_theory</span><span class="r18">.</span><span class="r14">is_CNF())</span><span class="r16">                </span>  
 <span class="r10">  352 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># if False, then f is entailed</span><span class="r16">              </span>  
 <span class="r10">  353 </span>│<span class="r27">   77%</span><span class="r11"> </span>│<span class="r27">   23%</span><span class="r11"> </span>│<span class="r11">       </span>│<span class="r1">  96%   </span>│<span class="r1"> -173M </span>│<span class="r27">▄▄▄▄▄▄▄ 100%</span><span class="r1">   </span>│<span class="r12">     2 </span>│<span class="r14">            </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> check_theory</span><span class="r18">.</span><span class="r14">solve():</span><span class="r16">                </span>  
 <span class="r10">  354 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r20">print</span><span class="r14">(f)</span><span class="r16">                                </span>  
 <span class="r10">  355 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            children</span><span class="r18">.</span><span class="r14">discard(Or([</span><span class="r18">~</span><span class="r14">f]))</span><span class="r16">                  </span>  
 <span class="r10">  356 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  357 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  358 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  359 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  360 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  361 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">if</span><span class="r14"> </span><span class="r28">__name__</span><span class="r14"> </span><span class="r18">==</span><span class="r14"> </span><span class="r24">"__main__"</span><span class="r14">:</span><span class="r16">                              </span>  
 <span class="r10">  362 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.extract</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Extract, modes</span><span class="r16">             </span>  
 <span class="r10">  363 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.observation</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> (</span><span class="r16">                      </span>  
 <span class="r10">  364 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        PartialObservabilityToken,</span><span class="r16">                      </span>  
 <span class="r10">  365 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    )</span><span class="r16">                                                   </span>  
 <span class="r10">  366 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                            </span>  
 <span class="r10">  367 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.generate.pddl</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> VanillaSampling</span><span class="r16">      </span>  
 <span class="r10">  368 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">pathlib</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Path</span><span class="r16">                            </span>  
 <span class="r10">  369 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  370 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r17"># exit out to the base macq folder so we can get to </span>  
 <span class="r10">  371 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    base </span><span class="r18">=</span><span class="r14"> Path(</span><span class="r28">__file__</span><span class="r14">)</span><span class="r18">.</span><span class="r14">parent</span><span class="r18">.</span><span class="r14">parent</span><span class="r18">.</span><span class="r14">parent</span><span class="r16">          </span>  
 <span class="r10">  372 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    dom </span><span class="r18">=</span><span class="r14"> (base </span><span class="r18">/</span><span class="r14"> </span><span class="r24">"tests/pddl_testing_files/blocks_domai</span>  
 <span class="r10">  373 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    prob </span><span class="r18">=</span><span class="r14"> (base </span><span class="r18">/</span><span class="r14"> </span><span class="r24">"tests/pddl_testing_files/blocks_prob</span>  
 <span class="r10">  374 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    vanilla </span><span class="r18">=</span><span class="r14"> VanillaSampling(dom</span><span class="r18">=</span><span class="r14">dom, prob</span><span class="r18">=</span><span class="r14">prob, plan_l</span>  
 <span class="r10">  375 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    traces </span><span class="r18">=</span><span class="r14"> vanilla</span><span class="r18">.</span><span class="r14">traces</span><span class="r16">                             </span>  
 <span class="r10">  376 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r20">print</span><span class="r14">(vanilla</span><span class="r18">.</span><span class="r14">problem</span><span class="r18">.</span><span class="r14">init)</span><span class="r16">                         </span>  
 <span class="r10">  377 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    traces</span><span class="r18">.</span><span class="r14">print(wrap</span><span class="r18">=</span><span class="r24">"y"</span><span class="r14">)</span><span class="r16">                              </span>  
 <span class="r10">  378 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  379 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    observations </span><span class="r18">=</span><span class="r14"> traces</span><span class="r18">.</span><span class="r14">tokenize(</span><span class="r16">                     </span>  
 <span class="r10">  380 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        PartialObservabilityToken,</span><span class="r16">                      </span>  
 <span class="r10">  381 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        method</span><span class="r18">=</span><span class="r14">PartialObservabilityToken</span><span class="r18">.</span><span class="r14">random_subset,</span><span class="r16"> </span>  
 <span class="r10">  382 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        percent_missing</span><span class="r18">=0.3</span><span class="r14">,</span><span class="r16">                            </span>  
 <span class="r10">  383 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    )</span><span class="r16">                                                   </span>  
 <span class="r10">  384 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    model </span><span class="r18">=</span><span class="r14"> Extract(observations, modes</span><span class="r18">.</span><span class="r14">SLAF)</span><span class="r16">           </span>  
 <span class="r10">  385 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  386 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                                             </span>  
 <span class="r10">      </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│                                                          
╶──────┼───────┼───────┼───────┼────────┼───────┼───────────────┼───────┼─────────────────────────────────────────────────────────╴
 <span class="r10">      </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r29">function summary for /home/rebecca/macq/macq/extract/sl…</span>  
 <span class="r10">   35 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r14">Slaf</span><span class="r18">.</span><span class="r14">__get_initial_fluent_factored</span><span class="r16">                      </span>  
 <span class="r10">   74 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄▄▄       </span>│<span class="r12">       </span>│<span class="r14">Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses</span><span class="r16">                            </span>  
 <span class="r10">  101 </span>│<span class="r27">   77%</span><span class="r11"> </span>│<span class="r27">   23%</span><span class="r11"> </span>│<span class="r11">       </span>│<span class="r1">  97%   </span>│<span class="r1"> -170M </span>│<span class="r27">▄▄▄▄▄▄▄▄▄ 100%</span><span class="r1"> </span>│<span class="r12">     2 </span>│<span class="r14">Slaf</span><span class="r18">.</span><span class="r14">as_strips_slaf</span><span class="r16">                                     </span>  
       ╵       ╵       ╵       ╵        ╵       ╵               ╵       ╵                                                          
Top net memory consumption, by line:
<span class="r1">(1)   344:     2 MB</span>                                                                                                                 
<span class="r1">(2)   172:     2 MB</span>                                                                                                                 
<span class="r30">                                    macq/extract/slaf.py: % of time =   0.37% out of 2156.37s.                                     </span>
       ╷       ╷       ╷       ╷        ╷       ╷               ╷       ╷                                                          
 <span class="r2"> </span><span class="r3">Line</span><span class="r2"> </span>│<span class="r4">Time</span><span class="r2">   </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r5">Memory</span><span class="r2">  </span>│<span class="r5">––––––</span><span class="r2"> </span>│<span class="r5">–––––––––––</span><span class="r2">    </span>│<span class="r6">Copy</span><span class="r2">   </span>│<span class="r2">                                                         </span> 
       │<span class="r7">Python</span><span class="r2"> </span>│<span class="r7">native</span><span class="r2"> </span>│<span class="r7">system</span><span class="r2"> </span>│<span class="r8">Python</span><span class="r2">  </span>│<span class="r8">net</span><span class="r2">    </span>│<span class="r8">timeline</span><span class="r5">/%</span><span class="r2">     </span>│<span class="r9">(MB/s)</span><span class="r2"> </span>│<span class="r2">macq/extract/slaf.py                                     </span> 
╺━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
 <span class="r10">    1 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">import</span><span class="r14"> </span><span class="r15">macq.extract</span><span class="r14"> </span><span class="r13">as</span><span class="r14"> </span><span class="r15">extract</span><span class="r16">                          </span>  
 <span class="r10">    2 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">typing</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Union, List, Set</span><span class="r16">                     </span>  
 <span class="r10">    3 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">nnf</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Var, Or, And, true, false</span><span class="r16">               </span>  
 <span class="r10">    4 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r17">#from ..observation import Observation, PartialObservabi</span>  
 <span class="r10">    5 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r17">#from ..trace import Action, ObservationList</span><span class="r16">            </span>  
 <span class="r10">    6 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">import</span><span class="r14"> </span><span class="r15">bauhaus</span><span class="r16">                                          </span>  
 <span class="r10">    7 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">bauhaus</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Encoding</span><span class="r16">                            </span>  
 <span class="r10">    8 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">nnf</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> dsharp</span><span class="r16">                                  </span>  
 <span class="r10">    9 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   10 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">macq.observation</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                          </span>  
 <span class="r10">   11 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">macq.trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                                </span>  
 <span class="r10">   12 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   13 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">e </span><span class="r18">=</span><span class="r14"> Encoding()</span><span class="r16">                                          </span>  
 <span class="r10">   14 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   15 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   16 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">Slaf</span><span class="r14">:</span><span class="r16">                                             </span>  
 <span class="r10">   17 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r17"># only need one true and one false</span><span class="r16">                  </span>  
 <span class="r10">   18 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    top </span><span class="r18">=</span><span class="r14"> true</span><span class="r16">                                          </span>  
 <span class="r10">   19 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    bottom </span><span class="r18">=</span><span class="r14"> false</span><span class="r16">                                      </span>  
 <span class="r10">   20 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   21 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__new__</span><span class="r14">(</span><span class="r20">cls</span><span class="r14">, observations: ObservationList):</span><span class="r16">    </span>  
 <span class="r10">   22 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Creates a new Model object.</span><span class="r16">                  </span>  
 <span class="r10">   23 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   24 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   25 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observations (ObservationList):</span><span class="r16">             </span>  
 <span class="r10">   26 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The state observations to extract the mo</span>  
 <span class="r10">   27 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Raises:</span><span class="r16">                                         </span>  
 <span class="r10">   28 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            IncompatibleObservationToken:</span><span class="r16">               </span>  
 <span class="r10">   29 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                Raised if the observations are not ident</span>  
 <span class="r10">   30 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   31 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> observations</span><span class="r18">.</span><span class="r14">type </span><span class="r22">is</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> PartialObservability</span>  
 <span class="r10">   32 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">raise</span><span class="r14"> extract</span><span class="r18">.</span><span class="r14">IncompatibleObservationToken(o</span>  
 <span class="r10">   33 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        Slaf</span><span class="r18">.</span><span class="r14">as_strips_slaf(observations)</span><span class="r16">               </span>  
 <span class="r10">   34 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   35 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">   36 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__get_initial_fluent_factored</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">   37 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        observation: Observation, raw_fluent_factored: U</span>  
 <span class="r10">   38 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    ):</span><span class="r16">                                                  </span>  
 <span class="r10">   39 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Gets the initial fluent-factored formula of a</span>  
 <span class="r10">   40 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   41 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   42 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observation (Observation):</span><span class="r16">                  </span>  
 <span class="r10">   43 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The observation to extract the fluent-fa</span>  
 <span class="r10">   44 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   45 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Returns:</span><span class="r16">                                        </span>  
 <span class="r10">   46 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            A list of dictionaries that holds the fluent</span>  
 <span class="r10">   47 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   48 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        top </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">top</span><span class="r16">                                  </span>  
 <span class="r10">   49 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        bottom </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">bottom</span><span class="r16">                            </span>  
 <span class="r10">   50 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> raw_fluent_factored:</span><span class="r16">                     </span>  
 <span class="r10">   51 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            raw_fluent_factored </span><span class="r18">=</span><span class="r14"> []</span><span class="r16">                    </span>  
 <span class="r10">   52 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        fluents </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">   53 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   54 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        all_fluents </span><span class="r18">=</span><span class="r14"> [f </span><span class="r13">for</span><span class="r14"> token </span><span class="r22">in</span><span class="r14"> observation </span><span class="r13">for</span><span class="r14"> f </span>  
 <span class="r10">   55 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_fluents:</span><span class="r16">                           </span>  
 <span class="r10">   56 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            fluents</span><span class="r18">.</span><span class="r14">add(f)</span><span class="r16">                              </span>  
 <span class="r10">   57 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   58 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># get previous fluents</span><span class="r16">                          </span>  
 <span class="r10">   59 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        old_fluents </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">   60 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">                   </span>  
 <span class="r10">   61 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            old_fluents</span><span class="r18">.</span><span class="r14">add(f[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">details)</span><span class="r16">        </span>  
 <span class="r10">   62 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   63 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># set up the initial fluent factored form for th</span>  
 <span class="r10">   64 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> fluents:</span><span class="r16">                               </span>  
 <span class="r10">   65 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">if</span><span class="r14"> f </span><span class="r22">not</span><span class="r14"> </span><span class="r22">in</span><span class="r14"> old_fluents:</span><span class="r16">                    </span>  
 <span class="r10">   66 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                phi </span><span class="r18">=</span><span class="r14"> {}</span><span class="r16">                                </span>  
 <span class="r10">   67 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                phi[</span><span class="r24">"fluent"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> Var(f)</span><span class="r16">                  </span>  
 <span class="r10">   68 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">                 </span>  
 <span class="r10">   69 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">                 </span>  
 <span class="r10">   70 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                phi[</span><span class="r24">"neutral"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">                  </span>  
 <span class="r10">   71 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                raw_fluent_factored</span><span class="r18">.</span><span class="r14">append(phi)</span><span class="r16">         </span>  
 <span class="r10">   72 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> raw_fluent_factored</span><span class="r16">                      </span>  
 <span class="r10">   73 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   74 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">   75 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">remove_subsumed_clauses</span><span class="r14">(phi_form: Set):</span><span class="r16">         </span>  
 <span class="r10">   76 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># print(phi_form)</span><span class="r16">                               </span>  
 <span class="r10">   77 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># print()</span><span class="r16">                                       </span>  
 <span class="r10">   78 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        to_del </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                  </span>  
 <span class="r10">   79 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># eliminate subsumed clauses</span><span class="r16">                    </span>  
 <span class="r10">   80 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi_form:</span><span class="r16">                              </span>  
 <span class="r10">   81 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">for</span><span class="r14"> other </span><span class="r22">in</span><span class="r14"> phi_form:</span><span class="r16">                      </span>  
 <span class="r10">   82 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(f, Or) </span><span class="r22">or</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(f, An</span>  
 <span class="r10">   83 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(o) </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> f</span><span class="r18">.</span><span class="r14">children}</span>  
 <span class="r10">   84 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                                   </span>  
 <span class="r10">   85 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(f)}</span><span class="r16">                    </span>  
 <span class="r10">   86 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(other, Var):</span><span class="r16">          </span>  
 <span class="r10">   87 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    other_set </span><span class="r18">=</span><span class="r14"> {</span><span class="r20">str</span><span class="r14">(o) </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> other</span><span class="r18">.</span><span class="r14">c</span>  
 <span class="r10">   88 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> f_set</span><span class="r18">.</span><span class="r14">issubset(other_set) </span><span class="r22">and</span><span class="r14"> f_s</span>  
 <span class="r10">   89 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        to_del</span><span class="r18">.</span><span class="r14">add(other)</span><span class="r16">               </span>  
 <span class="r10">   90 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> t </span><span class="r22">in</span><span class="r14"> to_del:</span><span class="r16">                                </span>  
 <span class="r10">   91 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            phi_form</span><span class="r18">.</span><span class="r14">discard(t)</span><span class="r16">                         </span>  
 <span class="r10">   92 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   93 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   94 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">   95 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">or_refactor</span><span class="r14">(maybe_lit):</span><span class="r16">                         </span>  
 <span class="r10">   96 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(maybe_lit, Var):</span><span class="r16">                  </span>  
 <span class="r10">   97 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">return</span><span class="r14"> Or([maybe_lit])</span><span class="r16">                      </span>  
 <span class="r10">   98 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                                           </span>  
 <span class="r10">   99 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">return</span><span class="r14"> maybe_lit</span><span class="r16">                            </span>  
 <span class="r10">  100 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  101 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@staticmethod</span><span class="r16">                                       </span>  
 <span class="r10">  102 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">as_strips_slaf</span><span class="r14">(observations: ObservationList, de</span>  
 <span class="r10">  103 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Implements the AS-STRIPS-SLAF algorithm from </span>  
 <span class="r10">  104 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Iterates through the action/observation pairs of</span>  
 <span class="r10">  105 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        a fluent-factored transition belief formula that</span>  
 <span class="r10">  106 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        The transition belif formulas for each trace/obs</span>  
 <span class="r10">  107 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        which is then solved using a SAT solver to extra</span>  
 <span class="r10">  108 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  109 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">  110 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observations (ObservationList):</span><span class="r16">             </span>  
 <span class="r10">  111 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The list of observations/traces to apply</span>  
 <span class="r10">  112 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">  113 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># get global variables</span><span class="r16">                          </span>  
 <span class="r10">  114 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        top </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">top</span><span class="r16">                                  </span>  
 <span class="r10">  115 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        bottom </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">bottom</span><span class="r16">                            </span>  
 <span class="r10">  116 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">global</span><span class="r14"> e</span><span class="r16">                                        </span>  
 <span class="r10">  117 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        validity_constraints </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                    </span>  
 <span class="r10">  118 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        all_var </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">  119 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  120 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        raw_fluent_factored </span><span class="r18">=</span><span class="r14"> </span><span class="r13">None</span><span class="r16">                      </span>  
 <span class="r10">  121 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># iterate through every observation in the list </span>  
 <span class="r10">  122 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> obs </span><span class="r22">in</span><span class="r14"> observations:</span><span class="r16">                        </span>  
 <span class="r10">  123 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># get the fluent factored formula for this o</span>  
 <span class="r10">  124 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            raw_fluent_factored </span><span class="r18">=</span><span class="r14"> Slaf</span><span class="r18">.</span><span class="r14">__get_initial_flu</span>  
 <span class="r10">  125 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                obs, raw_fluent_factored</span><span class="r16">                </span>  
 <span class="r10">  126 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            )</span><span class="r16">                                           </span>  
 <span class="r10">  127 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                                   </span>  
 <span class="r10">  128 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_f_details </span><span class="r18">=</span><span class="r14"> [f[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">name </span><span class="r13">for</span><span class="r14"> f </span>  
 <span class="r10">  129 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_f_details</span><span class="r18">.</span><span class="r14">sort()</span><span class="r16">                    </span>  
 <span class="r10">  130 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_f_details:</span><span class="r16">                 </span>  
 <span class="r10">  131 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(f)</span><span class="r16">                            </span>  
 <span class="r10">  132 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                to_obs </span><span class="r18">=</span><span class="r14"> []</span><span class="r16">                             </span>  
 <span class="r10">  133 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r24">""</span><span class="r16">                         </span>  
 <span class="r10">  134 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                                  </span>  
 <span class="r10">  135 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">Which fluents do you want to obse</span>  
 <span class="r10">  136 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                )</span><span class="r16">                                       </span>  
 <span class="r10">  137 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">while</span><span class="r14"> user_input </span><span class="r18">!=</span><span class="r14"> </span><span class="r24">"x"</span><span class="r14">:</span><span class="r16">                </span>  
 <span class="r10">  138 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r20">input</span><span class="r14">()</span><span class="r16">                </span>  
 <span class="r10">  139 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> user_input </span><span class="r22">in</span><span class="r14"> all_f_details:</span><span class="r16">     </span>  
 <span class="r10">  140 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        to_obs</span><span class="r18">.</span><span class="r14">append(user_input)</span><span class="r16">       </span>  
 <span class="r10">  141 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r20">print</span><span class="r14">(user_input </span><span class="r18">+</span><span class="r14"> </span><span class="r24">" added to th</span>  
 <span class="r10">  142 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">                               </span>  
 <span class="r10">  143 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">if</span><span class="r14"> user_input </span><span class="r18">!=</span><span class="r14"> </span><span class="r24">"x"</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  144 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"The fluent you entere</span>  
 <span class="r10">  145 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  146 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># iterate through all tokens (action/observa</span>  
 <span class="r10">  147 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">for</span><span class="r14"> token </span><span class="r22">in</span><span class="r14"> obs:</span><span class="r16">                           </span>  
 <span class="r10">  148 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  149 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"-"</span><span class="r14"> </span><span class="r18">*</span><span class="r14"> </span><span class="r18">100</span><span class="r14">)</span><span class="r16">                    </span>  
 <span class="r10">  150 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># steps 1. (d)-(e) of AS-STRIPS-SLAF</span><span class="r16">    </span>  
 <span class="r10">  151 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                all_o </span><span class="r18">=</span><span class="r14"> [</span><span class="r16">                               </span>  
 <span class="r10">  152 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    Var(</span><span class="r20">str</span><span class="r14">(f)[</span><span class="r18">1</span><span class="r14">:</span><span class="r18">-1</span><span class="r14">]) </span><span class="r13">if</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">stat</span>  
 <span class="r10">  153 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">state</span><span class="r18">.</span><span class="r14">fluents</span><span class="r16">   </span>  
 <span class="r10">  154 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                ]</span><span class="r16">                                       </span>  
 <span class="r10">  155 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">         </span>  
 <span class="r10">  156 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">                   </span>  
 <span class="r10">  157 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r17"># take account all of the current ob</span>  
 <span class="r10">  158 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> all_o:</span><span class="r16">                     </span>  
 <span class="r10">  159 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># if this fluent is observed, up</span>  
 <span class="r10">  160 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># since we know the fluent is no</span>  
 <span class="r10">  161 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> o:</span><span class="r16">                      </span>  
 <span class="r10">  162 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">      </span>  
 <span class="r10">  163 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span><span class="r14"> p</span>  
 <span class="r10">  164 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            )</span><span class="r16">                           </span>  
 <span class="r10">  165 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">     </span>  
 <span class="r10">  166 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {bottom}</span><span class="r16">  </span>  
 <span class="r10">  167 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> debug </span><span class="r22">and</span><span class="r14"> </span><span class="r20">str</span><span class="r14">(f) </span><span class="r22">in</span><span class="r14"> to_ob</span>  
 <span class="r10">  168 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">  169 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r24">f"</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> was observed t</span>  
 <span class="r10">  170 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                )</span><span class="r16">                       </span>  
 <span class="r10">  171 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r17"># the opposite happens if the fl</span>  
 <span class="r10">  172 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">elif</span><span class="r14"> </span><span class="r18">~</span><span class="r14">f </span><span class="r18">==</span><span class="r14"> o:</span><span class="r16">                   </span>  
 <span class="r10">  173 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">      </span>  
 <span class="r10">  174 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> p</span>  
 <span class="r10">  175 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            )</span><span class="r16">                           </span>  
 <span class="r10">  176 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {bottom}</span><span class="r16">  </span>  
 <span class="r10">  177 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> {top}</span><span class="r16">     </span>  
 <span class="r10">  178 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> debug </span><span class="r22">and</span><span class="r14"> </span><span class="r20">str</span><span class="r14">(f) </span><span class="r22">in</span><span class="r14"> to_ob</span>  
 <span class="r10">  179 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r16">                  </span>  
 <span class="r10">  180 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r24">f"</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> was observed t</span>  
 <span class="r10">  181 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                )</span><span class="r16">                       </span>  
 <span class="r10">  182 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  183 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"Update according to observati</span>  
 <span class="r10">  184 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> obj </span><span class="r22">in</span><span class="r14"> to_obs:</span><span class="r16">                  </span>  
 <span class="r10">  185 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16"> </span>  
 <span class="r10">  186 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            f_str </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">name</span><span class="r16">  </span>  
 <span class="r10">  187 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">if</span><span class="r14"> f_str </span><span class="r18">==</span><span class="r14"> obj:</span><span class="r16">            </span>  
 <span class="r10">  188 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">fluent: "</span><span class="r14"> </span><span class="r18">+</span><span class="r14"> f_s</span>  
 <span class="r10">  189 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  190 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span>  
 <span class="r10">  191 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  192 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  193 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  194 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  195 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  196 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  197 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  198 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span>  
 <span class="r10">  199 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  200 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  201 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  202 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  203 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  204 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  205 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl. </span>  
 <span class="r10">  206 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neutral"</span><span class="r14">]:</span>  
 <span class="r10">  207 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">        </span>  
 <span class="r10">  208 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span><span class="r14">)</span><span class="r16">   </span>  
 <span class="r10">  209 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom:</span><span class="r16">   </span>  
 <span class="r10">  210 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false"</span><span class="r14">)</span><span class="r16">  </span>  
 <span class="r10">  211 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">else</span><span class="r14">:</span><span class="r16">               </span>  
 <span class="r10">  212 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16">     </span>  
 <span class="r10">  213 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">  214 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># iterate through every fluent in the fl</span>  
 <span class="r10">  215 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># steps 1. (a)-(c) of AS-STRIPS-SLAF, pa</span>  
 <span class="r10">  216 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r17"># "if a" ensures that the action is not </span>  
 <span class="r10">  217 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                a </span><span class="r18">=</span><span class="r14"> token</span><span class="r18">.</span><span class="r14">step</span><span class="r18">.</span><span class="r14">action</span><span class="r16">                   </span>  
 <span class="r10">  218 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> a:</span><span class="r16">                                   </span>  
 <span class="r10">  219 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">     </span>  
 <span class="r10">  220 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">               </span>  
 <span class="r10">  221 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  222 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        pos_precond </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> is a pr</span>  
 <span class="r10">  223 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        neg_precond </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(~</span><span class="r26">{</span><span class="r14">f</span><span class="r26">}</span><span class="r24"> is a p</span>  
 <span class="r10">  224 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        pos_effect </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span>  
 <span class="r10">  225 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        neg_effect </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span>  
 <span class="r10">  226 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        neutral </span><span class="r18">=</span><span class="r14"> Var(</span><span class="r24">f"(</span><span class="r26">{</span><span class="r14">a</span><span class="r18">.</span><span class="r14">details()</span><span class="r26">}</span><span class="r24"> h</span>  
 <span class="r10">  227 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  228 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_var</span><span class="r18">.</span><span class="r14">update([pos_precond, neg</span>  
 <span class="r10">  229 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  230 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_pos </span><span class="r18">=</span><span class="r14"> [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> </span>  
 <span class="r10">  231 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_neg </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> </span>  
 <span class="r10">  232 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        all_phi_neut </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span>  
 <span class="r10">  233 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">         </span>  
 <span class="r10">  234 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">] </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">         </span>  
 <span class="r10">  235 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  236 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">          </span>  
 <span class="r10">  237 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(</span><span class="r18">~</span><span class="r14">pos_precond </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify</span>  
 <span class="r10">  238 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  239 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neutral"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">          </span>  
 <span class="r10">  240 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(</span><span class="r18">~</span><span class="r14">neg_precond </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify</span>  
 <span class="r10">  241 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  242 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  243 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(pos_effect </span><span class="r18">|</span>  
 <span class="r10">  244 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(pos_effect </span><span class="r18">|</span>  
 <span class="r10">  245 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"pos expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">         </span>  
 <span class="r10">  246 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(pos_effect </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify()</span>  
 <span class="r10">  247 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  248 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  249 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(neg_effect </span><span class="r18">|</span>  
 <span class="r10">  250 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">add(neg_effect </span><span class="r18">|</span>  
 <span class="r10">  251 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        phi[</span><span class="r24">"neg expl"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">update(</span><span class="r16">         </span>  
 <span class="r10">  252 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            [(neg_effect </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify()</span>  
 <span class="r10">  253 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        )</span><span class="r16">                               </span>  
 <span class="r10">  254 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  255 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(pos_eff</span>  
 <span class="r10">  256 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add((</span><span class="r18">~</span><span class="r14">pos_e</span>  
 <span class="r10">  257 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">neg_ef</span>  
 <span class="r10">  258 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">pos_ef</span>  
 <span class="r10">  259 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        validity_constraints</span><span class="r18">.</span><span class="r14">add(</span><span class="r18">~</span><span class="r14">pos_pr</span>  
 <span class="r10">  260 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  261 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  262 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  263 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        Slaf</span><span class="r18">.</span><span class="r14">remove_subsumed_clauses(phi</span>  
 <span class="r10">  264 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  265 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r13">if</span><span class="r14"> debug:</span><span class="r16">                               </span>  
 <span class="r10">  266 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r13">if</span><span class="r14"> a:</span><span class="r16">                               </span>  
 <span class="r10">  267 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">Action taken: "</span><span class="r14"> </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">det</span>  
 <span class="r10">  268 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                        </span><span class="r13">for</span><span class="r14"> obj </span><span class="r22">in</span><span class="r14"> to_obs:</span><span class="r16">              </span>  
 <span class="r10">  269 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                            </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factor</span>  
 <span class="r10">  270 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                f_str </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r18">.</span><span class="r14">na</span>  
 <span class="r10">  271 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                </span><span class="r13">if</span><span class="r14"> f_str </span><span class="r18">==</span><span class="r14"> obj:</span><span class="r16">        </span>  
 <span class="r10">  272 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"</span><span class="r25">\n</span><span class="r24">fluent: "</span><span class="r14"> </span><span class="r18">+</span>  
 <span class="r10">  273 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  274 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  275 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  276 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  277 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  278 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"pos ex</span>  
 <span class="r10">  279 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  280 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  281 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  282 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  283 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  284 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  285 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  286 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  287 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  288 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  289 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  290 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neg ex</span>  
 <span class="r10">  291 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  292 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  293 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  294 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  295 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  296 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  297 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r20">print</span><span class="r14">(</span><span class="r16">              </span>  
 <span class="r10">  298 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r24">"</span><span class="r25">\n</span><span class="r24">possible expl</span>  
 <span class="r10">  299 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> a</span><span class="r18">.</span><span class="r14">details()</span><span class="r16">   </span>  
 <span class="r10">  300 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r18">+</span><span class="r14"> </span><span class="r24">":"</span><span class="r16">           </span>  
 <span class="r10">  301 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    )</span><span class="r16">                   </span>  
 <span class="r10">  302 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                    </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"neutra</span>  
 <span class="r10">  303 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">if</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> top:</span><span class="r16">    </span>  
 <span class="r10">  304 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"true"</span>  
 <span class="r10">  305 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">elif</span><span class="r14"> f </span><span class="r18">==</span><span class="r14"> bottom</span>  
 <span class="r10">  306 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            </span><span class="r20">print</span><span class="r14">(</span><span class="r24">"false</span>  
 <span class="r10">  307 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                        </span><span class="r13">else</span><span class="r14">:</span><span class="r16">           </span>  
 <span class="r10">  308 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                                            e</span><span class="r18">.</span><span class="r14">pprint(f)</span><span class="r16"> </span>  
 <span class="r10">  309 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  310 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                             </span>  
 <span class="r10">  311 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  312 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                    user_input </span><span class="r18">=</span><span class="r14"> </span><span class="r20">input</span><span class="r14">(</span><span class="r24">"Hit enter to con</span>  
 <span class="r10">  313 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  314 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        formula </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">()</span><span class="r16">                                 </span>  
 <span class="r10">  315 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># convert to formula once you have stepped throu</span>  
 <span class="r10">  316 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># add as constraints to e here</span><span class="r16">                  </span>  
 <span class="r10">  317 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> phi </span><span class="r22">in</span><span class="r14"> raw_fluent_factored:</span><span class="r16">                 </span>  
 <span class="r10">  318 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            f </span><span class="r18">=</span><span class="r14"> phi[</span><span class="r24">"fluent"</span><span class="r14">]</span><span class="r16">                           </span>  
 <span class="r10">  319 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># convert to formula for each fluent</span><span class="r16">        </span>  
 <span class="r10">  320 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            all_phi_pos </span><span class="r18">=</span><span class="r14"> [p</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"po</span>  
 <span class="r10">  321 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            all_phi_neg </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"ne</span>  
 <span class="r10">  322 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            all_phi_neut </span><span class="r18">=</span><span class="r14"> [n</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> phi[</span><span class="r24">"n</span>  
 <span class="r10">  323 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  324 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([(</span><span class="r18">~</span><span class="r14">f </span><span class="r18">|</span><span class="r14"> p)</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> p </span><span class="r22">in</span>  
 <span class="r10">  325 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([(f </span><span class="r18">|</span><span class="r14"> n)</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> </span>  
 <span class="r10">  326 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            formula</span><span class="r18">.</span><span class="r14">update([n </span><span class="r13">for</span><span class="r14"> n </span><span class="r22">in</span><span class="r14"> all_phi_neut])</span><span class="r16">   </span>  
 <span class="r10">  327 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># formula.update(validity_constraints)</span><span class="r16">          </span>  
 <span class="r10">  328 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  329 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  330 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  331 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        full_formula </span><span class="r18">=</span><span class="r14"> And({</span><span class="r18">*</span><span class="r14">[f</span><span class="r18">.</span><span class="r14">simplify() </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> form</span>  
 <span class="r10">  332 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        cnf_formula </span><span class="r18">=</span><span class="r14"> And(</span><span class="r20">map</span><span class="r14">(Slaf</span><span class="r18">.</span><span class="r14">or_refactor, full_for</span>  
 <span class="r10">  333 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r16">                                                </span>  
 <span class="r10">  334 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  335 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  336 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># f = open("formula.txt", "w")</span><span class="r16">                  </span>  
 <span class="r10">  337 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys = list(cnf_formula)</span><span class="r16">                      </span>  
 <span class="r10">  338 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys = [str(f) for f in keys]</span><span class="r16">                 </span>  
 <span class="r10">  339 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># keys.sort()</span><span class="r16">                                   </span>  
 <span class="r10">  340 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># for key in keys:</span><span class="r16">                              </span>  
 <span class="r10">  341 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17">#     f.write(str(key) + "\n")</span><span class="r16">                  </span>  
 <span class="r10">  342 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># f.close()</span><span class="r16">                                     </span>  
 <span class="r10">  343 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  344 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        ddnnf </span><span class="r18">=</span><span class="r14"> dsharp</span><span class="r18">.</span><span class="r14">compile(cnf_formula, </span><span class="r24">'/home/rebec</span>  
 <span class="r10">  345 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17">#print(ddnnf.size())</span><span class="r16">                            </span>  
 <span class="r10">  346 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        children </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">(cnf_formula</span><span class="r18">.</span><span class="r14">children)</span><span class="r16">            </span>  
 <span class="r10">  347 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">for</span><span class="r14"> f </span><span class="r22">in</span><span class="r14"> all_var:</span><span class="r16">                               </span>  
 <span class="r10">  348 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># base_theory is the original CNF</span><span class="r16">           </span>  
 <span class="r10">  349 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            children</span><span class="r18">.</span><span class="r14">add(Or([</span><span class="r18">~</span><span class="r14">f]))</span><span class="r16">                      </span>  
 <span class="r10">  350 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            check_theory </span><span class="r18">=</span><span class="r14"> And(children)</span><span class="r16">                </span>  
 <span class="r10">  351 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r20">print</span><span class="r14">(check_theory</span><span class="r18">.</span><span class="r14">is_CNF())</span><span class="r16">                </span>  
 <span class="r10">  352 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># if False, then f is entailed</span><span class="r16">              </span>  
 <span class="r10">  353 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> check_theory</span><span class="r18">.</span><span class="r14">solve():</span><span class="r16">                </span>  
 <span class="r10">  354 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r20">print</span><span class="r14">(f)</span><span class="r16">                                </span>  
 <span class="r10">  355 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            children</span><span class="r18">.</span><span class="r14">discard(Or([</span><span class="r18">~</span><span class="r14">f]))</span><span class="r16">                  </span>  
 <span class="r10">  356 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  357 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  358 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  359 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  360 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  361 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">if</span><span class="r14"> </span><span class="r28">__name__</span><span class="r14"> </span><span class="r18">==</span><span class="r14"> </span><span class="r24">"__main__"</span><span class="r14">:</span><span class="r16">                              </span>  
 <span class="r10">  362 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.extract</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Extract, modes</span><span class="r16">             </span>  
 <span class="r10">  363 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.observation</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> (</span><span class="r16">                      </span>  
 <span class="r10">  364 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        PartialObservabilityToken,</span><span class="r16">                      </span>  
 <span class="r10">  365 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    )</span><span class="r16">                                                   </span>  
 <span class="r10">  366 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> </span><span class="r18">*</span><span class="r16">                            </span>  
 <span class="r10">  367 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">   16M </span>│<span class="r1">▄▄▄▄▄▄▄▄▄      </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">macq.generate.pddl</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> VanillaSampling</span><span class="r16">      </span>  
 <span class="r10">  368 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">from</span><span class="r14"> </span><span class="r15">pathlib</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Path</span><span class="r16">                            </span>  
 <span class="r10">  369 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  370 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r17"># exit out to the base macq folder so we can get to </span>  
 <span class="r10">  371 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    base </span><span class="r18">=</span><span class="r14"> Path(</span><span class="r28">__file__</span><span class="r14">)</span><span class="r18">.</span><span class="r14">parent</span><span class="r18">.</span><span class="r14">parent</span><span class="r18">.</span><span class="r14">parent</span><span class="r16">          </span>  
 <span class="r10">  372 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    dom </span><span class="r18">=</span><span class="r14"> (base </span><span class="r18">/</span><span class="r14"> </span><span class="r24">"tests/pddl_testing_files/blocks_domai</span>  
 <span class="r10">  373 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    prob </span><span class="r18">=</span><span class="r14"> (base </span><span class="r18">/</span><span class="r14"> </span><span class="r24">"tests/pddl_testing_files/blocks_prob</span>  
 <span class="r10">  374 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    2M </span>│<span class="r1">▄▄▄▄▄▄▄▄       </span>│<span class="r12">       </span>│<span class="r14">    vanilla </span><span class="r18">=</span><span class="r14"> VanillaSampling(dom</span><span class="r18">=</span><span class="r14">dom, prob</span><span class="r18">=</span><span class="r14">prob, plan_l</span>  
 <span class="r10">  375 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    traces </span><span class="r18">=</span><span class="r14"> vanilla</span><span class="r18">.</span><span class="r14">traces</span><span class="r16">                             </span>  
 <span class="r10">  376 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r20">print</span><span class="r14">(vanilla</span><span class="r18">.</span><span class="r14">problem</span><span class="r18">.</span><span class="r14">init)</span><span class="r16">                         </span>  
 <span class="r10">  377 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄▄▄▄▄▄        </span>│<span class="r12">       </span>│<span class="r14">    traces</span><span class="r18">.</span><span class="r14">print(wrap</span><span class="r18">=</span><span class="r24">"y"</span><span class="r14">)</span><span class="r16">                              </span>  
 <span class="r10">  378 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  379 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    observations </span><span class="r18">=</span><span class="r14"> traces</span><span class="r18">.</span><span class="r14">tokenize(</span><span class="r16">                     </span>  
 <span class="r10">  380 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        PartialObservabilityToken,</span><span class="r16">                      </span>  
 <span class="r10">  381 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        method</span><span class="r18">=</span><span class="r14">PartialObservabilityToken</span><span class="r18">.</span><span class="r14">random_subset,</span><span class="r16"> </span>  
 <span class="r10">  382 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        percent_missing</span><span class="r18">=0.3</span><span class="r14">,</span><span class="r16">                            </span>  
 <span class="r10">  383 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    )</span><span class="r16">                                                   </span>  
 <span class="r10">  384 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    model </span><span class="r18">=</span><span class="r14"> Extract(observations, modes</span><span class="r18">.</span><span class="r14">SLAF)</span><span class="r16">           </span>  
 <span class="r10">  385 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">  386 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r20">print</span><span class="r14">()</span><span class="r16">                                             </span>  
       ╵       ╵       ╵       ╵        ╵       ╵               ╵       ╵                                                          
Top net memory consumption, by line:
<span class="r1">(1)   367:    16 MB</span>                                                                                                                 
<span class="r1">(2)   374:     2 MB</span>                                                                                                                 
<span class="r30">                         /home/rebecca/macq/macq/extract/extract.py: % of time =   0.00% out of 2156.37s.                          </span>
       ╷       ╷       ╷       ╷        ╷       ╷               ╷       ╷                                                          
 <span class="r2"> </span><span class="r3">Line</span><span class="r2"> </span>│<span class="r4">Time</span><span class="r2">   </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r5">Memory</span><span class="r2">  </span>│<span class="r5">––––––</span><span class="r2"> </span>│<span class="r5">–––––––––––</span><span class="r2">    </span>│<span class="r6">Copy</span><span class="r2">   </span>│<span class="r2">                                                         </span> 
       │<span class="r7">Python</span><span class="r2"> </span>│<span class="r7">native</span><span class="r2"> </span>│<span class="r7">system</span><span class="r2"> </span>│<span class="r8">Python</span><span class="r2">  </span>│<span class="r8">net</span><span class="r2">    </span>│<span class="r8">timeline</span><span class="r5">/%</span><span class="r2">     </span>│<span class="r9">(MB/s)</span><span class="r2"> </span>│<span class="r2">/home/rebecca/macq/macq/extract/extract.py               </span> 
╺━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
 <span class="r10">    1 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">dataclasses</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> dataclass</span><span class="r16">                       </span>  
 <span class="r10">    2 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">typing</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> List</span><span class="r16">                                 </span>  
 <span class="r10">    3 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">enum</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Enum, auto</span><span class="r16">                             </span>  
 <span class="r10">    4 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">.observer</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Observer</span><span class="r16">                          </span>  
 <span class="r10">    5 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">    0M </span>│<span class="r1">▄▄             </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">.slaf</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Slaf</span><span class="r16">                                  </span>  
 <span class="r10">    6 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">..observation</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Observation</span><span class="r16">                   </span>  
 <span class="r10">    7 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">..trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> ObservationList, Action, State</span><span class="r16">      </span>  
 <span class="r10">    8 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">    9 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   10 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r23">@dataclass</span><span class="r16">                                              </span>  
 <span class="r10">   11 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">SAS</span><span class="r14">:</span><span class="r16">                                              </span>  
 <span class="r10">   12 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    pre_state: State</span><span class="r16">                                    </span>  
 <span class="r10">   13 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    action: Action</span><span class="r16">                                      </span>  
 <span class="r10">   14 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    post_state: State</span><span class="r16">                                   </span>  
 <span class="r10">   15 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   16 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   17 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">IncompatibleObservationToken</span><span class="r14">(</span><span class="r31">Exception</span><span class="r14">):</span><span class="r16">          </span>  
 <span class="r10">   18 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__init__</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, token, technique, message</span><span class="r18">=</span><span class="r13">None</span><span class="r14">):</span><span class="r16"> </span>  
 <span class="r10">   19 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> message </span><span class="r22">is</span><span class="r14"> </span><span class="r13">None</span><span class="r14">:</span><span class="r16">                             </span>  
 <span class="r10">   20 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            message </span><span class="r18">=</span><span class="r14"> </span><span class="r24">f"Observations of type </span><span class="r26">{</span><span class="r14">token</span><span class="r18">.</span><span class="r28">__na</span>  
 <span class="r10">   21 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">super</span><span class="r14">()</span><span class="r18">.</span><span class="r19">__init__</span><span class="r14">(message)</span><span class="r16">                       </span>  
 <span class="r10">   22 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   23 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   24 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">modes</span><span class="r14">(Enum):</span><span class="r16">                                      </span>  
 <span class="r10">   25 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r21">"""Model extraction techniques.</span><span class="r16">                     </span>  
 <span class="r10">   26 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   27 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">    An Enum where each value represents a model extracti</span>  
 <span class="r10">   28 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">    """</span><span class="r16">                                                 </span>  
 <span class="r10">   29 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   30 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    OBSERVER </span><span class="r18">=</span><span class="r14"> auto()</span><span class="r16">                                   </span>  
 <span class="r10">   31 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    SLAF </span><span class="r18">=</span><span class="r14"> auto()</span><span class="r16">                                       </span>  
 <span class="r10">   32 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   33 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   34 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">Extract</span><span class="r14">:</span><span class="r16">                                          </span>  
 <span class="r10">   35 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r21">"""Extracts models from observations.</span><span class="r16">               </span>  
 <span class="r10">   36 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   37 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">    The Extract class uses an extraction method to retri</span>  
 <span class="r10">   38 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">    from state observations.</span><span class="r16">                            </span>  
 <span class="r10">   39 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">    """</span><span class="r16">                                                 </span>  
 <span class="r10">   40 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   41 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__new__</span><span class="r14">(</span><span class="r20">cls</span><span class="r14">, observations: ObservationList, mode</span>  
 <span class="r10">   42 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Extracts a Model object.</span><span class="r16">                     </span>  
 <span class="r10">   43 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   44 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Extracts a model from the observations using the</span>  
 <span class="r10">   45 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        technique.</span><span class="r16">                                      </span>  
 <span class="r10">   46 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   47 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   48 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            observations (ObservationList):</span><span class="r16">             </span>  
 <span class="r10">   49 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The state observations to extract the mo</span>  
 <span class="r10">   50 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            mode (Enum):</span><span class="r16">                                </span>  
 <span class="r10">   51 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The extraction technique to use.</span><span class="r16">        </span>  
 <span class="r10">   52 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   53 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Returns:</span><span class="r16">                                        </span>  
 <span class="r10">   54 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            A Model object. The model's characteristics </span>  
 <span class="r10">   55 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            extraction technique used.</span><span class="r16">                  </span>  
 <span class="r10">   56 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   57 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        techniques </span><span class="r18">=</span><span class="r14"> {</span><span class="r16">                                  </span>  
 <span class="r10">   58 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            modes</span><span class="r18">.</span><span class="r14">OBSERVER: Observer,</span><span class="r16">                   </span>  
 <span class="r10">   59 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            modes</span><span class="r18">.</span><span class="r14">SLAF: Slaf,</span><span class="r16">                           </span>  
 <span class="r10">   60 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        }</span><span class="r16">                                               </span>  
 <span class="r10">   61 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> mode </span><span class="r18">==</span><span class="r14"> modes</span><span class="r18">.</span><span class="r14">SLAF:</span><span class="r16">                          </span>  
 <span class="r10">   62 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r17"># only allow one trace</span><span class="r16">                      </span>  
 <span class="r10">   63 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">assert</span><span class="r14"> (</span><span class="r16">                                    </span>  
 <span class="r10">   64 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">                </span><span class="r20">len</span><span class="r14">(observations) </span><span class="r18">==</span><span class="r14"> </span><span class="r18">1</span><span class="r16">                  </span>  
 <span class="r10">   65 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            ), </span><span class="r24">"Only 1 trace is allowed with the current</span>  
 <span class="r10">   66 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   67 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> techniques[mode](observations)</span><span class="r16">           </span>  
 <span class="r10">   68 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
       ╵       ╵       ╵       ╵        ╵       ╵               ╵       ╵                                                          
Top net memory consumption, by line:
<span class="r30">                      /home/rebecca/macq/macq/extract/learned_action.py: % of time =   0.00% out of 2156.37s.                      </span>
       ╷       ╷       ╷       ╷        ╷       ╷               ╷       ╷                                                          
 <span class="r2"> </span><span class="r3">Line</span><span class="r2"> </span>│<span class="r4">Time</span><span class="r2">   </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r4">––––––</span><span class="r2"> </span>│<span class="r5">Memory</span><span class="r2">  </span>│<span class="r5">––––––</span><span class="r2"> </span>│<span class="r5">–––––––––––</span><span class="r2">    </span>│<span class="r6">Copy</span><span class="r2">   </span>│<span class="r2">                                                         </span> 
       │<span class="r7">Python</span><span class="r2"> </span>│<span class="r7">native</span><span class="r2"> </span>│<span class="r7">system</span><span class="r2"> </span>│<span class="r8">Python</span><span class="r2">  </span>│<span class="r8">net</span><span class="r2">    </span>│<span class="r8">timeline</span><span class="r5">/%</span><span class="r2">     </span>│<span class="r9">(MB/s)</span><span class="r2"> </span>│<span class="r2">/home/rebecca/macq/macq/extract/learned_action.py        </span> 
╺━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━┿━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━┿━━━━━━━┿━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸
 <span class="r10">    1 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">__future__</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> annotations</span><span class="r16">                      </span>  
 <span class="r10">    2 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">   13M </span>│<span class="r1">▄▄▄▄           </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">macq.trace.action</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Action</span><span class="r16">                    </span>  
 <span class="r10">    3 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">typing</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Set, List</span><span class="r16">                            </span>  
 <span class="r10">    4 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">from</span><span class="r14"> </span><span class="r15">..trace</span><span class="r14"> </span><span class="r13">import</span><span class="r14"> Fluent, PlanningObject</span><span class="r16">              </span>  
 <span class="r10">    5 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">    6 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">    7 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r13">class</span><span class="r14"> </span><span class="r15">LearnedAction</span><span class="r14">:</span><span class="r16">                                    </span>  
 <span class="r10">    8 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__init__</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, name: </span><span class="r20">str</span><span class="r14">, obj_params: List[</span><span class="r20">str</span><span class="r14">],</span>  
 <span class="r10">    9 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">name </span><span class="r18">=</span><span class="r14"> name</span><span class="r16">                                </span>  
 <span class="r10">   10 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">obj_params </span><span class="r18">=</span><span class="r14"> obj_params</span><span class="r16">                    </span>  
 <span class="r10">   11 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r24">"cost"</span><span class="r14"> </span><span class="r22">in</span><span class="r14"> kwargs:</span><span class="r16">                            </span>  
 <span class="r10">   12 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r20">self</span><span class="r18">.</span><span class="r14">cost </span><span class="r18">=</span><span class="r14"> kwargs[</span><span class="r24">"cost"</span><span class="r14">]</span><span class="r16">                  </span>  
 <span class="r10">   13 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   14 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">precond </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">() </span><span class="r13">if</span><span class="r14"> </span><span class="r24">"precond"</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r22">in</span><span class="r14"> kwargs </span>  
 <span class="r10">   15 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">add </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">() </span><span class="r13">if</span><span class="r14"> </span><span class="r24">"add"</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r22">in</span><span class="r14"> kwargs </span><span class="r13">else</span><span class="r14"> kwa</span>  
 <span class="r10">   16 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">delete </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">() </span><span class="r13">if</span><span class="r14"> </span><span class="r24">"delete"</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r22">in</span><span class="r14"> kwargs </span><span class="r13">el</span>  
 <span class="r10">   17 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   18 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__eq__</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, other):</span><span class="r16">                            </span>  
 <span class="r10">   19 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">if</span><span class="r14"> </span><span class="r22">not</span><span class="r14"> </span><span class="r20">isinstance</span><span class="r14">(other, LearnedAction):</span><span class="r16">        </span>  
 <span class="r10">   20 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            </span><span class="r13">return</span><span class="r14"> </span><span class="r13">False</span><span class="r16">                                </span>  
 <span class="r10">   21 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> </span><span class="r20">self</span><span class="r18">.</span><span class="r14">name </span><span class="r18">==</span><span class="r14"> other</span><span class="r18">.</span><span class="r14">name </span><span class="r22">and</span><span class="r14"> </span><span class="r20">self</span><span class="r18">.</span><span class="r14">obj_para</span>  
 <span class="r10">   22 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   23 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">__hash__</span><span class="r14">(</span><span class="r20">self</span><span class="r14">):</span><span class="r16">                                 </span>  
 <span class="r10">   24 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r17"># Order of obj_params is important!</span><span class="r16">             </span>  
 <span class="r10">   25 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> </span><span class="r20">hash</span><span class="r14">(</span><span class="r20">self</span><span class="r18">.</span><span class="r14">details())</span><span class="r16">                     </span>  
 <span class="r10">   26 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   27 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">details</span><span class="r14">(</span><span class="r20">self</span><span class="r14">):</span><span class="r16">                                  </span>  
 <span class="r10">   28 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        string </span><span class="r18">=</span><span class="r14"> </span><span class="r24">f"</span><span class="r26">{</span><span class="r20">self</span><span class="r18">.</span><span class="r14">name</span><span class="r26">}</span><span class="r24"> </span><span class="r26">{</span><span class="r24">' '</span><span class="r18">.</span><span class="r14">join([o </span><span class="r13">for</span><span class="r14"> o </span><span class="r22">in</span><span class="r14"> </span><span class="r20">sel</span>  
 <span class="r10">   29 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> string</span><span class="r16">                                   </span>  
 <span class="r10">   30 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   31 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">update_precond</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, fluents: Set[Fluent]):</span><span class="r16">     </span>  
 <span class="r10">   32 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Adds preconditions to the action.</span><span class="r16">            </span>  
 <span class="r10">   33 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   34 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   35 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            fluents (set):</span><span class="r16">                              </span>  
 <span class="r10">   36 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The set of fluents to be added to the ac</span>  
 <span class="r10">   37 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   38 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">precond</span><span class="r18">.</span><span class="r14">update(fluents)</span><span class="r16">                    </span>  
 <span class="r10">   39 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   40 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">update_add</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, fluents: Set[Fluent]):</span><span class="r16">         </span>  
 <span class="r10">   41 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Adds add effects to the action.</span><span class="r16">              </span>  
 <span class="r10">   42 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   43 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   44 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            fluents (set):</span><span class="r16">                              </span>  
 <span class="r10">   45 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The set of fluents to be added to the ac</span>  
 <span class="r10">   46 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   47 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">add</span><span class="r18">.</span><span class="r14">update(fluents)</span><span class="r16">                        </span>  
 <span class="r10">   48 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   49 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">update_delete</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, fluents: Set[Fluent]):</span><span class="r16">      </span>  
 <span class="r10">   50 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Adds delete effects to the action.</span><span class="r16">           </span>  
 <span class="r10">   51 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   52 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        Args:</span><span class="r16">                                           </span>  
 <span class="r10">   53 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">            fluents (set):</span><span class="r16">                              </span>  
 <span class="r10">   54 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">                The set of fluents to be added to the ac</span>  
 <span class="r10">   55 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r21">        """</span><span class="r16">                                             </span>  
 <span class="r10">   56 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r20">self</span><span class="r18">.</span><span class="r14">delete</span><span class="r18">.</span><span class="r14">update(fluents)</span><span class="r16">                     </span>  
 <span class="r10">   57 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   58 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">compare</span><span class="r14">(</span><span class="r20">self</span><span class="r14">, orig_action: LearnedAction):</span><span class="r16">      </span>  
 <span class="r10">   59 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Compares the learned action to an original, g</span>  
 <span class="r10">   60 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        precond_diff </span><span class="r18">=</span><span class="r14"> orig_action</span><span class="r18">.</span><span class="r14">precond</span><span class="r18">.</span><span class="r14">difference(</span><span class="r20">se</span>  
 <span class="r10">   61 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        add_diff </span><span class="r18">=</span><span class="r14"> orig_action</span><span class="r18">.</span><span class="r14">add</span><span class="r18">.</span><span class="r14">difference(</span><span class="r20">self</span><span class="r18">.</span><span class="r14">add)</span><span class="r16"> </span>  
 <span class="r10">   62 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        delete_diff </span><span class="r18">=</span><span class="r14"> orig_action</span><span class="r18">.</span><span class="r14">delete</span><span class="r18">.</span><span class="r14">difference(</span><span class="r20">self</span>  
 <span class="r10">   63 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> precond_diff, add_diff, delete_diff</span><span class="r16">      </span>  
 <span class="r10">   64 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
 <span class="r10">   65 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r23">@classmethod</span><span class="r16">                                        </span>  
 <span class="r10">   66 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">    </span><span class="r13">def</span><span class="r14"> </span><span class="r19">from_json</span><span class="r14">(</span><span class="r20">cls</span><span class="r14">, data):</span><span class="r16">                           </span>  
 <span class="r10">   67 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r21">"""Converts a json object to an Action."""</span><span class="r16">      </span>  
 <span class="r10">   68 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        obj_params </span><span class="r18">=</span><span class="r14"> </span><span class="r20">list</span><span class="r14">(</span><span class="r20">map</span><span class="r14">(</span><span class="r20">str</span><span class="r14">, data[</span><span class="r24">"obj_params"</span><span class="r14">]))</span><span class="r16"> </span>  
 <span class="r10">   69 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        precond </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">(</span><span class="r20">map</span><span class="r14">(Fluent</span><span class="r18">.</span><span class="r14">from_json, data[</span><span class="r24">"precon</span>  
 <span class="r10">   70 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        add </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">(</span><span class="r20">map</span><span class="r14">(Fluent</span><span class="r18">.</span><span class="r14">from_json, data[</span><span class="r24">"add"</span><span class="r14">]))</span><span class="r16">   </span>  
 <span class="r10">   71 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        delete </span><span class="r18">=</span><span class="r14"> </span><span class="r20">set</span><span class="r14">(</span><span class="r20">map</span><span class="r14">(Fluent</span><span class="r18">.</span><span class="r14">from_json, data[</span><span class="r24">"delete"</span>  
 <span class="r10">   72 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        </span><span class="r13">return</span><span class="r14"> </span><span class="r20">cls</span><span class="r14">(</span><span class="r16">                                     </span>  
 <span class="r10">   73 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            data[</span><span class="r24">"name"</span><span class="r14">],</span><span class="r16">                               </span>  
 <span class="r10">   74 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            obj_params,</span><span class="r16">                                 </span>  
 <span class="r10">   75 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            cost</span><span class="r18">=</span><span class="r14">data[</span><span class="r24">"cost"</span><span class="r14">],</span><span class="r16">                          </span>  
 <span class="r10">   76 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            precond</span><span class="r18">=</span><span class="r14">precond,</span><span class="r16">                            </span>  
 <span class="r10">   77 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            add</span><span class="r18">=</span><span class="r14">add,</span><span class="r16">                                    </span>  
 <span class="r10">   78 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">            delete</span><span class="r18">=</span><span class="r14">delete,</span><span class="r16">                              </span>  
 <span class="r10">   79 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r14">        )</span><span class="r16">                                               </span>  
 <span class="r10">   80 </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r11">       </span>│<span class="r1">        </span>│<span class="r1">       </span>│<span class="r1">               </span>│<span class="r12">       </span>│<span class="r16">                                                        </span>  
       ╵       ╵       ╵       ╵        ╵       ╵               ╵       ╵                                                          
Top net memory consumption, by line:
<span class="r1">(1)     2:    13 MB</span>                                                                                                                 
generated by the <a class="r32" href="https://github.com/plasma-umass/scalene">scalene</a> profiler                                                                                                   
</pre>
    </code>
</body>
</html>
